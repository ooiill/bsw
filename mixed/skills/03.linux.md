
# Linux  
  
### 常用命令(或快捷方式)  

| 命令 | 作用 |
| --- | --- |
| `hostname` | 显示主机名 |
| `uname` | 显示底层系统信息 |
| `jobs` | 查看当前在后台运行的全部进程 |
| `sleep 5` | 暂停 `5` 秒 |
| `bg 2` | 继续运行后台编号为 `2` 的命令 |
| `fg 2` | 将后台编号为 `2` 的命令拿回到前台执行 |
| `!!` | 执行上一次执行的命令 同小键盘的上 + 回车 |
| `!u` | 执行历史执行命令中以 `u` 开头的命令，就近原则 |
| `!2` | 执行历史执行命令中序号为 `2` 的命令 |
| `!?abc` | 执行历史执行命令中包含 `abc` 命令的命令就近原则 |
| `!-3` | 执行历史执行命令中倒数第 `3` 个命令 |
| `!$` | 上一条命令的参数 |
| `ctrl+r` | 搜索历史执行命令，接着输入要搜索的关键字 |
| `esc+.` | 调用上一个命令的参数 |
| `id` | 获取当前用户信息 |
| `passwd` | 修改当前用户密码 |
| `pwd` | 显示当前工作目录 |
| `file` | 查看文件的类型 |
| `date +%Y-%m-%d` | 系统时间 |
| `cal` | 打印日历 |
| `uptime` | 查看系统 `1`、`5`、`15` 分钟的负载情况 |
| `top`、`free` | 查看系统负载 |
| `lspci` | 查看 `pci` 设备 |
| `lsusb` | 查看 `usb` 设备 |
| `lsmod` | 查看加载的模块(驱动) |
| `shutdown`、`poweroff` | 关机重启 |
| `reboot` | 重启别名命令 |
| `du -sh filename` | 查看文件大小 |
| `who` | 查看当前登陆的用户 |  
| `cut` | 分割字符串 |
| `awk` | 格式化字符串 |
| `wc` | 文本统计 |
| `sort` | 排序 |
| `uniq` | 去重复 |
| `diff` | 比对 |
| `sed` | 文本替换 |
| `tr` | sed 命令的简化版本 |
| `scp` | 基于 `ssh` 的远程拷贝命令 |
| `rsync` | 远程同步命令 |
  
### which、 whereis、 locate、 find 的区别  
  
| 命令 | 作用 |
| --- | --- |
| `which` | 在 环境变量 `PATH` 指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果 |
| `whereis` | 只能用于程序名的搜索，而且只搜索二进制文件(参数 `-b`)、 `man` 说明文件(参数 `-m`)和源代码文件(参数 `-s`)| 
| `locate` | 配合数据库查看文件位置 |
| `find` | 实际搜寻硬盘查询文件名称 |
  
### 搜索和查找  
  
| 命令 | 作用 |
| --- | --- |
| `locate` | 快速查找文件，需预先建立的数据库，数据库每天更新，查找速度快<br>但实时性比较差，可用 `updatedb` 命令更新这个数据库 |
| `find . -name \*xxx\*` | 查找当前目录下文件名中含 `xxx` 关键字的文件 |
| `find / -name \*.conf` | 查找根目录下以 `.conf` 为后缀的配置文件 |
| `find / -perm 777` | 查找根目录下权限为 `0777` 的文件 |
| `find / -type d` | 查找根目录下的所有目录类型 |
| `find . name "a\*" -exec 命令 {} \;` | 查找当前目录下文件名以 `a` 开头的文件集并执行子命令<br>子命令两边的符号为固定格式 |
| `find path | grep xxx` | 在 `path` 下查找并将结果作为 `grep` 的标准输入继续查找 `xxx` 字符串 |
| `find path | xargs grep xxx` | 在 `path` 下查找并将结果作为 `grep` 的输入参数继续查找 `xxx` 字符串 |
| `grep xxx filename` | 在指定文件下查找 `xxx` 字符串的行 |
| `grep xxx -R path` |  在指定目录下查找 `xxx` 字符串的行 |
| `env | grep GOROOT` | 查找环境变量 `GOROOT` |
| `netstat -nat | grep 9000` | 查看端口 `9000` 情况 |
| `ps -ef | grep 9000` | 查看端口 `9000` 情况 |
| `lsof -i:9000` | 查看端口 `9000` 情况 |
  
### 命令行中的常用快捷键  
  
| 快捷键 | 作用 |
| --- | --- |
| `ctrl+左右键` | 单词之间的切换 |
| `ctrl+a` | 跳到本行的行首 |
| `ctrl+e` | 跳到本行的行尾 |
| `ctrl+w` | 删除光标前面的单词 |
| `alt+d` | 删除光标后面的单词 (同 `alt` + `backsapce` ) |
| `backspace` | 删除光标之前的字符 |
| `ctrl+d` | 删除光标后面的字符 |
| `ctrl+u` | 删除光标之前所有的字符 |
| `ctrl+k` | 删除光标之后所有的字符 |
| `ctrl+y` | 恢复删除 |
| `ctrl+l` | 清屏 |
  
### vim 操作  

| 命令 | 作用 |
| --- | --- |
| `vim filename` | 打开一个文件，如果文件不存在则会新建 |
| `vim filename1 filename2 filename3` | 可以打开或新建多个文件 |
| `vim + filename` | 打开文件并将光标定位到最后 |
| `vim +10 filename` | 打开文件并将光标定位到第 `10` 行 |
| `vim +/findString filename` | 打开文件并将光标定位到含 `findString` 字符串的第一行<br>并可以按 `n` 定位到下一个目标行 |
  
如何进行模式切换：    
  
- 编辑模式中按 `esc` 进入命令模式  

- 命令模式中按 `a` 或 `i` 或 `o` 等进入编辑模式  

- 在命令模式中键入冒号进入 `ex` 模式  
  
### vim 命令模式下  

| 命令 | 功能 |  
| --- | --- |  
| `i` | 在光标前插入文本 |  
| `a` | 在光标后插入文本 |  
| `o` | 在当前行下面插入一行 |  
| `O` | 在当前行上面插入一行 |  
| `dd` | 剪切(删除)当前光标所在行 |  
| `dw` | 剪切(删除)当前光标所在位置到下一个空格的字母，通常用来删除单词 |  
| `u` | 后退操作 |  
| `ctrl+r` | 撤销后退 |  
| `yy` | 复制(缓冲)当前行 |  
| `5yy` | 复制(缓冲)多行，从当前行往下开始的 `5` 行 |  
| `p` | 当前行的下一行粘贴 |  
| `P` | 当前行的上一行粘贴 |  
| `r` | 替换当前光标所在字符 |  
| `0` | 光标移动到行首 | |  
| `$` | 光标移动到行尾 |  
| `/` | 进入查找功能(向下)，输入关键字后按回车开始查找，按 `n` 显示下一个位置 |  
| `?` | 进入查找功能(向上)，输入关键字后按回车开始查找，按 `n` 显示上一个位置 |  
| `ctrl+f` | 向下翻页 `front` |  
| `ctrl+b` | 向上翻页 `back` |  
| `ctrl+d` | 向下翻半页 `down` |  
| `ctrl+u` | 向上翻半页 `up` |  
| `ctrl+w+方向键` | 切换到(`上` / `下` / `左` / `右`)一个窗格 |  
| `ctrl+ww` | 依次切换到下一个窗格 |  
| `gg` | 光标移动到首行 |  
| `shift+g` | 光标移动到末行 |  
| `dG` | 删除从当前光标到末行的文本 |  
| `ctrl+g` | 显示文件状态信息，同 `ex` 模式下的 `:t` 命令 |  
  
### vim ex 模式下  
  
| 命令 | 功能 |  
| --- | --- |  
| `:w` | 保存当前修改 |  
| `:q` | 退出 |  
| `:q!` | 强制退出不保存 |  
| `:wq` | 保存并退出 |  
| `:x` | 保存并退出同 `wq` |  
| `:set nu/number` | 显示行号 |  
| `:set nonu/nonumber` | 不显示行号 |  
| `:sh` | 切换到 `shell` 命令行，使用 `ctrl+d` 返回 `vim` |  
| `:open path/filename` | 打开指定文件 |  
| `:数字` | 定位到指定的行 |  
| `:ls` | 列举所有打开的文件 |  
| `:t` | 显示文件状态信息，同命令模式下的 `ctrl+g` |  
| `:bn/n` | 下一个文件 |  
| `:bp/prev` | 上一个文件 |  
| `:split path/filename` | 在水平不同的窗格打开文件 |  
| `:vsplit path/filename` | 在垂直不同的窗格打开文 |  
| `:r filename` | 读入一个文件内容并写入到当前编辑器中 |  
| `:w filename` | 将该编辑器中的内容写入到一个新文件中 |  
| `:!command` | 暂时离开 `vim` 到指令列模式下执行 `command` 命令并显示结果，如 `:!ls` |  
| `:e!` | 当前文件内容返回到上次保存的状态 |  
| `:e filename` | 切换到另一个文件进行编辑 |  
| `:%s/oldString/newString/g` | 全局替换 |  
| `:1, 10s/oldString/newString` | 将第 `1` ~ `10` 行中的第一个 `oldString` 替换成 `newString` ，命令最后加 `/g` 可全局替换 |  
| `:1, .s/oldString/newString` | 将第 `1` 行至当前光标所在行中的第一个 `oldString` 替换成 `newString` ，`.` 表示当前行，命令最后加 `/g` 可全局替换 |  
| `:1, $s/oldString/newString` | 将第 `1` 行至最后一行的第一个 `oldString` 替换成 `newString` ，`$` 表示最后一行，命令最后加 `/g` 可全局替换 |  
  
### 解压  
  
| 命令 | 功能 |  
| --- | --- |  
| `tar -xzvf` | 解压 `.tar` 文件，`-C` 参数指定目标文件夹 |
| `tar -xjf` | 解压 `.tar.bz2` 文件 |
| `tar -xZf` | 解压 `.tar.Z` 文件 |
| `gzip -d` / `gunzip` | 解压 `.gz` 文件 |
| `bzip2 -d` / `bunzip2` | 解压 `.bz2` 文件 |
| `uncompress` | 解压 `.Z` 文件 |
| `unrar e` | 解压 `.rar` 文件 |
| `unzip -o` | 解压 `.zip` 文件 |
  
### 文件操作  
  
#### **创建文件** 

```shell  
touch path/filename  
vi path/filename  
echo xxx > path/filename  
cat xxx > path/filename  
less xxx > path/filename  
```  
  
#### **移动或重命名**

```shell  
mv oldpath/oldfilename newpath/newfilename  
```  
  
#### **拷贝文件**

```shell  
cp oldpath/oldfilename newpath/newfilename  
```  

#### **拷贝目录**

```shell  
cp -R oldpath newpath  
```  

#### **删除文件**  

```shell  
rm path/filename  
```  
  
#### **删除目录** 

```shell  
rm -r path  
```  
  
#### **更改文件权限**  

```shell  
chmod 0777 path/filename  
chmod u+x path/filename   
```  

#### **更改目录权限**  

```shell  
chmod -R 0777 path  
```  
  
### 标准(输入/ 输出 / 错误)重定向  
  
**命令行 shell 的数据流有以下定义**  
  
|名称 | 说明 | 编号 | 默认 |  
| --- | --- | --- | --- |  
| `STDIN` | 标准输入 | `0` | 键盘 |  
| `STDOUT` | 标准输出 | `1` | 终端 |  
| `STDERR` | 标准错误 | `2` | 终端 |  
  
**通过管道和重定向可以控制 CLI 的数据流**  
  
| 分类 | 关键字 | 定义 | 例子 |  
| --- | --- | --- | --- |  
| 重定向 | > | 将 `STDOUT` 重定向到文件(覆盖) | echo 'hello world' > test.txt |  
| 重定向 | >> | 将 `STDOUT` 重定向到文件(追加) | echo 'the end' >> test.txt |  
| 重定向 | 2> | 将 `STDERR` 重定向到文件(覆盖) | ls dir 2> error.log |  
| 重定向 | 2>&1 | 将 `STDERR` 与 `STDOUT` 结合 | ls dir 2>&1 output.txt |  
| 重定向 | < | 重定向 `STDIN` | grep leon < /etc/passwd |  
| 管道 | &#124; | 将一个命令 `STDOUT` 作为另一个命令的 `STDIN` | ls -l &#124; grep leon |  
  
### 用户权限与组权限  
  
每一个用户拥有一个 `UserID` ，操作系统实际使用的是用户 `UserID` ，而非用户名。  
每个用户属于一个主组，属于一个或多个附属组(最多 `31` 个附属组)。  
每个组拥有一个 `GroupID`。  
每个进程以一个用户身份运行，并受该用户可访问的资源限制。  
每个可登陆用户拥有一个指定的 `shell`。  
用户 `ID` 为 `32` 位，从 `0` 开始，但是为了和老式系统兼容，用户 `ID` 限制在 `60000` 以下。  

**用户分为三种**  

| 分类 | ID | 备注 |
| --- | --- | --- |
| root | `0` | 超级用户 |
| 系统用户 | `1~499` | 没有 `login shell` |
| 普通用户 | `>=500` |  |

详情：  

```
系统中的文件都有一个所属用户及所属组  
使用 id 命令可以显示当前用户的信息，也可指定用户参数  
使用 passwd 命令可以修改当前用户密码  
/etc/passwd - 保存用户信息  
/etc/shadow - 保存用户密码(加密文)  
/etc/group - 保存组信息  
命令 whoami 显示当前用户  
命令 who 显示有哪些用户已经登陆系统  
命令 w 显示那些用户已经登陆了系统并在干什么  

useradd xxx - 创建一个名为 xxx 的用户  
执行该命令的系统动作  
    1. 生成用户 id 并在 /etc/passwd 中添加用户信息  
    2. 如果使用 passwd 命令创建密码，则将密码加密保存在 /etc/shadow 文件中  
    3. 为用户创建一个新的家目录 /home/xxx  
    4. 将 /etc/skel 中的文件复制到用户家目录中(如果需要对以后每个新创建的用户给定一个用户文档，则只需将该文档放在该目录下即可)  
    5. 建立一个与用户组名相同的组，新建用户默认属于这个同名组  
```

| 命令 | 作用 |
| --- | --- |
| `usermod [options] xxx` | 修改用户信息 |
| `userdel xxx` | 删除用户信息，不删除家目录 |
| `userdel -R xxx` | 删除用户信息并删除家目录 |
| `groupadd xxx` | 创建一个用户组 |
| `groupdel xxx` | 删除用户组 |
  
> 系统中每个文件都有特定的权限、所属用户及所属组，通过这一的机制来显示哪些用户、哪些组可以对特定文件进行什么样的操作。  
  
| 标识 | 权限 | 值 | 对文件的影响 | 对目录的影响 |  
| ---: | :---: | :--- | --- | --- |  
| `r` | 可读 | `4` | 可读取文件内容 | 可列出目录内容 |  
| `w` | 可写 | `2` | 可修改文件内容 | 可在目录中创建删除文件 |  
| `x` | 执行 | `1` | 可作为命令执行 | 可访问目录内容 |  
  
`Linux` 权限基于 `UGO` 模型进行控制  

> `User` `Group` `Other`  
  
`ls -l` 命令列出的文件信息格式如下  

> drwxr-xr-- 2 leon leon 58 Oct 1 13:50 filename  

| 类型 | `UGO` 权限 | 链接数 | 所属用户 | 所属用户组 | 大小 | 创建修改时间 | 文件名称 |  
| --- | --- | --- | --- | --- | --- | --- | --- |  
| d | rwxr-xr-- | 2 | leon | leon | 58 | Oct 1 13:50 | filename |  
  
类型部分，`d` 表文件夹，`-` 表文件，`l` 表链接。  
`UGO` 部分共 `9` 位，每 `3` 位分别对于 `User`、`Group`、`Other` 的权限  
  
    chown -R USER[:GROUP] File      # 将指定文件所属用户修改为指定的用户(和组)  
    chgrp -R GROUP File             # 将指定文件所属组修改为指定的组  
    chmod -R MODE File              # 修改文件的权限  

模式  
  
    u、g、o  # 分别代表用户、组和其他  
    a       # 可以指代 ugo (即 all )  
    + -     # 代表加入或删除对应权限  
    r w x   # 代表三种权限  
  
例如  
  
    chmod u+rw index.php    # 为所属用户添加对该文件的读写权限  
    chmod g-x index.php     # 删除所属组对该文件操作权限  
    chmod go+r index.php    # 为所属组和其他添加对该文件的读权限  
    chmod a-x index.php     # 删除所有对该文件的操作权限  
  
`chmod` 命令也支持以数字数字方式修改权限，三个权限(`UGO`)分别有三个数字表示  
  
    r=4 (2^2)  
    w=2 (2^1)  
    x=1 (2^0)  
  
使用数字表示权限时，每组权限分别对于为对应数字之和  
  
    rw- = 6 = 4+2  
    rwx = 7 = 4+2+1  
    r-x = 5 = 4+1  
    chmod 660 文件 == rw-rw----  
    chmod 775 文件 == rwxrwxr-x  
    chmod 777 文件 == rwxrwxrwx  
    chmod 755 文件 == rwxr-xr-x  
  
每个终端都拥有一个 `umask` 属性来确定新建文件、文件夹的默认权限  
`umask` 使用数字权限方式表示  
  
    目录的默认权限是： 777-umask 值  
    文件的默认权限是： 666-umask 值  
  
一般普通用户的默认 `umask` 是 `002` ，`root` 用户的默认 `umask` 是 `022`  
也就是说，对于普通用户  
  
    新建文件的权限是： 666-002=664  
    新建目录的权限是： 777-022=775  
  
    umask       # 值可以使用 umask 命令查看和设置  
    umask       # 查看当前用户(当前终端)的 umask 值  
    umask 022   # 设置当前用户(当前终端)的 umask 值为 022  
    
    # 特殊权限，即 umask 值的第一位  
  
### 高级权限

| 权限 | 对文件的影响 | 对目录的影响 |  
| --- | --- | --- |  
| `suid` | 以文件所属用户身份执行而非执行文件的用户 | 无 |  
| `sgid` | 以文件所属组身份执行 | 该目录中创建创建的任意新文件的所属组与该目录的所数组将保持一致 |  
| `sticky` | 无 | 对目录拥有写入权限的用户仅可以删除其拥有的文件，无法删除其他用户所拥有的文件 |  
  
### Ubuntu 修改 DNS
    
```shell
# 提醒：手动修改 `/etc/resolv.conf` 文件将自动被重置

# 新建 tail 文件
$ sudo vi /etc/resolvconf/resolv.conf.d/tail

# 写入以下两行
nameserver 8.8.8.8  
nameserver 114.114.114.114

# 重启服务
$ sudo /etc/init.d/resolvconf restart 
```
    
### Shell 语法
  
#### **$$**

    Shell 本身的 PID ( ProcessID )  

#### **$!**

    Shell 最后运行的后台 Process 的 PID  

#### **$?**

    最后运行的命令的结束代码(返回值)  
  
#### **$-**

    使用 Set 命令设定的 Flag 一览  

#### **$_**

    上一条执行的命令的参数部分  

#### **$\***

    (命令行中)所有参数列表。如"$*"用「"」括起来的情况、以"$1 $2 … $n"的形式输出所有参数。  

#### **$@**

    (命令行中)所有参数列表。如"$@"用「"」括起来的情况、以"$1" "$2" … "$n" 的形式输出所有参数。   
  
#### **$#**

    (命令行中)添加到 Shell 的参数个数  

#### **$0**

    (命令行中)Shell 本身的文件名  

#### **$1~$n**

    (命令行中)添加到 Shell 的各参数值。$1 是第 1 参数、$2 是第 2 参数…。  

#### **result=$(ls)**

    将括号中的表达式以命令方式执行并把结果赋值给变量 result  

#### **result=${abc}**

    {}中的将和$合并解析成变量，同 result="$abc"  

#### **result=$(($a+$b))**

    计算变量 a 和变量 b 的和，同 result=$[$a + $b]、 result=$(expr $a + $b)  

#### **动态获取变量**

```shell
abchehe=hello world  
c=hehe  
varName=abc${c}  

echo ${!varName}  # hello world  
```
  
#### **动态定义变量**

```shell
c=hehe  
declare -r $c='hello world'  

echo ${hehe} # hello world  
```

#### **动态定义数组变量**

```shell
a=arr  
declare -a arr  

(($a[1]=111))  
(($a[2]=222))  

echo ${arr[1]} # 111  
echo ${arr[2]} # 222  
```

#### **获取字符串的长度**

```shell
str=helloworld  
echo ${#str}  
```

#### **获取数组的长度**

```shell
arr=("a" "b" "c")  
echo ${#arr[@]}  
```

#### **双小括号表达式 (())**

    所有表达式可以像 c 语言一样，如： a++，b--，c+=1 等  
    所有变量可以不加入$符号进行调用  
    
    可以进行逻辑运算，四则运算  
    扩展了 for，while，if 条件测试运算  
    支持多个表达式运算，各个表达式之间用逗号分开  
    d=$((1, 2, 3, 4, 5)) $d 的值为最后一个表达式的值  

### Crontab  
  
#### **Crontab 文件的含义**  
  
用户所建立的 `crontab` 文件中，每一行都代表一项任务，每行的每个字段代表一项设置  
它的格式共分为六个字段，前五段是时间设定段，第六段是要执行的命令段 
  
格式如下：  

> `minute` `hour` `day` `month` `week` `command`  
  
| 段 | 含义 | 范围 |  
| --- | --- | --- |  
| `minute` | 分钟 | 从 `0` 到 `59` 之间的任何整数 |  
| `hour` | 小时 | 从 `0` 到 `23` 之间的任何整数 |  
| `day` | 日期 | 从 `1` 到 `31` 之间的任何整数 |  
| `month` | 月份 | 从 `1` 到 `12` 之间的任何整数 |  
| `week` | 星期几 | 从 `0` 到 `7` 之间的任何整数，这里的 `0` 或 `7` 代表星期日 |  
| `command` | 要执行的命令 | 系统命令，也可以是自己编写的脚本文件 |  
  
前五段中特殊字符的含义  
  
| 特殊字符 | 含义 |  
| --- | --- |  
| 星号 `*` | 代表所有可能的值，例如 `month` 字段如果是星号<br> 则表示在满足其它字段的制约条件后每月都执行该命令操作 |  
| 逗号 `,` | 可以用逗号隔开的值指定一个列表范围<br>例如： `1,2,5,7,8,9` |  
| 中杠 `-` | 可以用整数之间的中杠表示一个整数范围<br>例如： `2-6` 表示 `2,3,4,5,6` |  
| 正斜线 `/` | 可以用正斜线指定时间的间隔频率<br>例如： `0-23/2` 表示每两小时执行一次。<br><br>同时正斜线可以和星号一起使用<br>例如：`*/10` ，如果用在 `minute` 字段，表示每十分钟执行一次。 |  

#### **使用实例**  

    实例 1 ：每 1 分钟执行一次 command  
    命令： * * * * * command  
  
    实例 2 ：每小时的第 3 和第 15 分钟执行  
    命令： 3, 15 * * * * command  
  
    实例 3 ：在上午 8 点到 11 点的第 3 和第 15 分钟执行  
    命令： 3, 15 8-11 * * * command  
  
    实例 4 ：每隔两天的上午 8 点到 11 点的第 3 和第 15 分钟执行  
    命令： 3, 15 8-11 */2 * * command  
  
    实例 5 ：每个星期一的上午 8 点到 11 点的第 3 和第 15 分钟执行  
    命令： 3, 15 8-11 * * 1 command  
  
    实例 6 ：每晚的 21:30 重启 smb  
    命令： 30 21 * * * /etc/init.d/smb restart  
  
    实例 7 ：每月 1 、 10 、 22 日的 4:45 重启 smb  
    命令： 45 4 1, 10, 22 * * /etc/init.d/smb restart  
  
    实例 8 ：每周六、周日的 1:10 重启 smb  
    命令： 10 1 * * 6, 0 /etc/init.d/smb restart  
  
    实例 9 ：每天 18:00 至 23:00 之间每隔 30 分钟重启 smb  
    命令： 0, 30 18-23 * * * /etc/init.d/smb restart  
  
    实例 10 ：每星期六的晚上 11:00pm 重启 smb  
    命令： 0 23 * * 6 /etc/init.d/smb restart  
  
    实例 11 ：每一小时重启 smb  
    命令： * */1 * * * /etc/init.d/smb restart  
  
    实例 12 ：晚上 11 点到早上 7 点之间，每隔一小时重启 smb  
    命令： * 23-7/1 * * * /etc/init.d/smb restart  
  
    实例 13 ：每月的 4 号与每周一到周三的 11 点重启 smb  
    命令： 0 11 4 * mon-wed /etc/init.d/smb restart  
  
    实例 14 ：一月一号的 4 点重启 smb  
    命令： 0 4 1 jan * /etc/init.d/smb restart  
  
    实例 15 ：每小时执行 /etc/cron.hourly 目录内的脚本  
    命令： 01 * * * * root run-parts /etc/cron.hourly  
  